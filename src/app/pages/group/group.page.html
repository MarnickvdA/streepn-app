<ion-header translucent="true">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button></ion-back-button>
        </ion-buttons>

        <ion-title *ngIf="group">{{group.name}}</ion-title>
        <ion-buttons slot="end">
            <ion-button routerLink="settings" routerDirection="forward">
                <ion-icon slot="icon-only" name="cog-outline"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-header collapse="condense">
        <ion-toolbar>
            <ion-title size="large" *ngIf="group">{{group.name}}</ion-title>
        </ion-toolbar>
    </ion-header>
    <ion-refresher slot="fixed" (ionRefresh)="reset($event)">
        <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    <ion-list>
        <ion-spinner *ngIf="!transactions"></ion-spinner>
        <ng-container *ngIf="transactions">
            <ion-item *ngFor="let transaction of transactions">
                <ion-label>
                    <h3>
                        {{transaction.amount}}x {{transaction.product.name}} voor {{transaction.account.name}}
                    </h3>
                    <p>
                        Op {{transaction.createdAt.toDate().toLocaleString()}}
                    </p>
                </ion-label>
            </ion-item>
        </ng-container>
    </ion-list>

    <ion-infinite-scroll threshold="100px" (ionInfinite)="loadNext()" [disabled]="doneLoading">
        <ion-infinite-scroll-content>
        </ion-infinite-scroll-content>
    </ion-infinite-scroll>

    <ion-fab vertical="bottom" horizontal="end" slot="fixed">
        <ion-fab-button (click)="addTransaction()">
            <ion-icon name="add-outline"></ion-icon>
        </ion-fab-button>
    </ion-fab>
</ion-content>