<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-button mode="ios" fill="none" [routerLink]="'/house/' + houseId + '/preferences'"
                        routerDirection="back">
                <fa-duotone-icon slot="icon-only" class="primary" fixedWidth
                                 [icon]="['fad', 'chevron-left']"></fa-duotone-icon>
            </ion-button>
        </ion-buttons>
        <ion-title>{{'house.overview.settle.house.title' | translate}}</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-header collapse="condense">
        <ion-toolbar>
            <ion-title size="large">{{'house.overview.settle.house.title' | translate}}</ion-title>
        </ion-toolbar>
    </ion-header>

    <ion-list>
        <ion-item class="list-button" lines="full" (click)="settleHouse()" [disabled]="!canSettle()" button detail="false">
            <fa-duotone-icon slot="start" class="primary large" fixedWidth
                             [icon]="['fad', 'calculator-alt']"></fa-duotone-icon>
            <ion-label>
                <h3>{{'house.overview.settle.house.settle' | translate:{name: house?.name} }}</h3>
            </ion-label>
        </ion-item>

        <ion-list-header lines="full">
            <ion-label>
                {{'house.overview.settle.house.history' | translate }}
            </ion-label>
        </ion-list-header>

        <ion-item class="no-min-height no-bg" *ngIf="!settlements || settlements?.length === 0" lines="none">
            <ion-label>
                <p class="small">
                    {{'house.overview.settle.house.emptyHistory' | translate}}
                </p>
            </ion-label>
        </ion-item>

        <ion-item *ngFor="let settlement of settlements" lines="inset" button routerLink="{{settlement.id}}" routerDirection="forward">
            <ion-label>
                <h3>
                    Verrekening op {{settlement.createdAt | dateTime}}
                    door {{settlement.createdByName}}
                </h3>
            </ion-label>
        </ion-item>
    </ion-list>
</ion-content>
