<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-toggle>
                <ion-button>
                    <fa-duotone-icon [icon]="['fad', 'bars']" class="primary" fixedWidth slot="start"></fa-duotone-icon>
                </ion-button>
            </ion-menu-toggle>
        </ion-buttons>
        <ion-title>{{'dashboard.profile' | translate}}</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-header collapse="condense">
        <ion-toolbar>
            <ion-title size="large">{{'dashboard.profile' | translate}}</ion-title>
        </ion-toolbar>
    </ion-header>

    <ion-list *ngIf="user$ | async; let user">
        <ion-item-divider class="bottom-line"></ion-item-divider>
        <ion-item>
            <fa-duotone-icon [icon]="['fad', 'user']" class="primary" fixedWidth slot="start"></fa-duotone-icon>
            <ion-label>
                <h3>{{user.displayName}}</h3>
            </ion-label>
        </ion-item>
        <ion-item>
            <fa-duotone-icon [icon]="['fad', 'at']" class="primary" fixedWidth slot="start"></fa-duotone-icon>
            <ion-label>
                <h3>{{user.email}}</h3>
            </ion-label>
            <ion-chip *ngIf="user.emailVerified" color="success">
                {{'dashboard.emailVerified' | translate}}
            </ion-chip>
        </ion-item>
        <ion-item lines="full">
            <fa-duotone-icon [icon]="['fad', 'clock']" class="primary" fixedWidth slot="start"></fa-duotone-icon>
            <ion-label>
                <h3>{{'dashboard.memberSince' | translate}} {{getTimestamp(user.metadata.creationTime) | date}}</h3>
            </ion-label>
        </ion-item>

        <ion-list-header lines="full">
            <ion-label>{{'profile.edit.title' | translate}}</ion-label>
        </ion-list-header>

        <ion-item (click)="updateName(user.displayName)" button detail="false" lines="full">
            <ion-label>
                <h3>{{'profile.edit.username' | translate}}</h3>
                <p class="small ion-text-wrap">
                    {{'profile.edit.username-desc' | translate}}
                </p>
            </ion-label>
        </ion-item>

        <ion-item (click)="takePicture(user.uid)" button detail="false" lines="full">
            <ion-label>
                <h3>{{'profile.edit.picture' | translate}}</h3>
                <p class="small ion-text-wrap">
                    {{'profile.edit.picture-desc' | translate}}
                </p>
            </ion-label>
        </ion-item>

        <!--        <ion-item (click)="updateEmail()" button detail>-->
        <!--            <ion-label>-->
        <!--                <h3>{{'profile.edit.email' | translate}}</h3>-->
        <!--            </ion-label>-->
        <!--        </ion-item>-->

        <!--        <ion-item (click)="updatePassword()" button detail lines="full">-->
        <!--            <ion-label>-->
        <!--                <h3>{{'profile.edit.password' | translate}}</h3>-->
        <!--            </ion-label>-->
        <!--        </ion-item>-->

    </ion-list>
</ion-content>
